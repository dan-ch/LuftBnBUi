{"version":3,"sources":["context/AuthProvider.tsx","components/TextInput/TextInput.tsx","components/BottomNavbar/BottomNavbar.tsx","components/Navbar/Navbar.tsx","components/PasswordInput/PasswordInput.tsx","components/Select/CustomSelect.tsx","components/LoadingIndicator/LoadingIndicator.tsx","pages/auth/ValidationSchema.ts","utils/axiosInstance.ts","context/SearchProvider.tsx","pages/auth/SignIn.tsx","pages/auth/SignUp.tsx","components/Calendar/Calendar.tsx","pages/offer/components/OfferReservation/OfferReservation.tsx","pages/offer/components/AddOpinion/AddOpinion.tsx","pages/offer/components/Opinion/Opinion.tsx","pages/offer/components/OfferOpinions/OfferOpinions.tsx","pages/offer/components/OfferCarousel/OfferCarousel.tsx","actions/homePageActions.ts","actions/offerPageActions.ts","pages/offer/Offer.tsx","pages/home/SearchDrawer.tsx","pages/home/Home.tsx","pages/search/components/OfferTile.tsx","pages/myReservations/components/ReservationTile/ReservationTile.tsx","pages/myReservations/MyReservations.tsx","routes/ProtectedRoute.tsx","routes/PublicRoute.tsx","pages/search/components/CalendarPopover.tsx","components/Drawer/DrawerComponent.tsx","pages/search/components/MoreFilters.tsx","actions/searchPageActions.ts","pages/search/Search.tsx","components/FormSwitch/FormSwitch.tsx","components/OfferForm/OfferForm.tsx","pages/addOffer/AddOffer.tsx","pages/editOffer/EditOffer.tsx","pages/settingsPage/components/UserOfferTile.tsx","pages/settingsPage/Settings.tsx","routes/RoutesConfig.tsx","App.tsx","index.tsx"],"names":["UserActions","TextInput","label","name","placeholder","type","variant","multiline","numberProps","value","useFormContext","register","errors","formState","TextField","fullWidth","color","error","inputProps","helperText","message","defaultValue","initialState","user","authenticated","refreshToken","token","UserContext","createContext","userState","dispatch","authReducer","state","action","payload","logout","localStorage","removeItem","setToken","setRefreshToken","setUser","AuthProvider","children","useReducer","useEffect","getItem","axios","get","process","headers","authorization","then","response","data","access_token","refresh_token","setItem","catch","console","log","Provider","BottomNavbar","useContext","listOfActions","path","icon","useState","setValue","Box","sx","width","BottomNavigation","showLabels","onChange","event","newValue","className","map","BottomNavigationAction","component","Link","to","Navbar","fontSize","PasswordInput","showPassword","setShowPassword","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","style","fill","CustomSelect","menuItems","FormControl","InputLabel","id","Select","labelId","target","menuItem","index","MenuItem","LoadingIndicator","size","CircularProgress","REGEX_PASSWORD","validationCredentials","email","yup","required","password","min","max","matches","signUpSchema","shape","firstName","lastName","password_confirmation","signInSchema","axiosCustom","create","baseURL","interceptors","request","use","req","SearchActions","SignIn","useMutation","a","post","onSuccess","isLoading","mutate","methods","useForm","resolver","yupResolver","onSubmit","handleSubmit","LoadingButton","loading","Button","SignUp","Calendar","startDate","endDate","disabledDates","key","setState","showDateDisplay","item","selection","moveRangeOnFirstSelection","minDate","Date","months","ranges","direction","rangeColors","now","city","people","SearchContext","searchReducer","setCity","setPeople","setStartDate","setEndDate","SearchProvider","OfferReservation","daysCount","dailyPrice","offerId","navigate","useNavigate","fData","FormData","append","moment","format","toString","formatDate","date","Intl","DateTimeFormat","month","day","first","second","difference","Math","abs","getTime","ceil","countDays","AddOpinion","refetchOpinions","offer","React","opinion","content","rate","display","alignItems","Rating","precision","emptyIcon","opacity","Opinion","onDelete","delete","author","OfferOpinions","rateCount","opinionsCount","opinions","offerOwnerId","toFixed","OfferCarousel","images","imageItems","image","src","alt","showArrows","showStatus","dynamicHeight","showThumbs","memo","fetchCities","res","getOfferById","params","withRatings","getOfferOwner","getOfferReservations","getOfferOpinions","Offer","useQuery","isFetching","useParams","isOfferFetching","offerOwner","isOfferOwnerFetching","refetchOnWindowFocus","refetchInterval","offerReservations","enabled","offerOpinions","isOfferOpinionsLoading","opinionsRefetch","refetch","disabledDatesForReservations","reservation","tempDate","reservationDates","push","setDate","getDate","reduce","acc","concat","url","title","Number","ratings","maxPeople","description","SearchDrawer","isError","bgcolor","paddingBottom","List","ListItem","disablePadding","handleClick","ListItemButton","ListItemIcon","ListItemText","primary","Home","visible","setVisible","toggle","Drawer","open","onClose","anchor","OfferTile","ReservationTile","totalPrice","reservationId","today","firstDay","MyReservations","result","userReservations","price","ProtectedRoute","PublicRoute","CalendarPopover","buttonLabel","popoverContent","anchorEl","setAnchorEl","Boolean","undefined","currentTarget","Popover","anchorOrigin","vertical","horizontal","DrawerComponent","drawerIcon","drawerContent","valuetext","MoreFilters","filters","setFilters","prices","setPrice","propertyTypes","property","checked","home","apartment","hotel","hostel","handleChangeCheckbox","Slider","getAriaLabel","activeThumb","Array","isArray","valueLabelDisplay","getAriaValueText","onChangeCommitted","disableSwap","m","startAdornment","FormControlLabel","control","Checkbox","Switch","smoking","fetchOffers","offerParams","Search","filteredOffers","setFilteredOffers","setPrices","loadingCities","cities","length","loadingOffers","offers","fOffers","filter","Autocomplete","newInputValue","disablePortal","options","renderInput","step","actionType","onInputChange","FormSwitch","defaultChecked","OfferForm","submitButtonName","setProperty","AddOffer","files","setFiles","photos","forEach","photo","useDropzone","accept","onDrop","acceptedFiles","addedFiles","file","Object","assign","preview","URL","createObjectURL","getRootProps","getInputProps","thumbs","fileName","revokeObjectURL","maxSizeMB","maxWidthOrHeight","useWebWorker","compressedPhotos","imageCompression","img","Promise","all","offerData","EditOffer","useLocation","put","UserOfferTile","Settings","userOffer","Divider","RoutesConfig","element","queryClient","QueryClient","defaultOptions","queries","App","client","StyledEngineProvider","injectFirst","initialIsOpen","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b0367948.chunk.js","sourcesContent":["import { AuthState, User } from \"models/Authentication\";\nimport { createContext, Dispatch, FC, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\n\nexport enum UserActions {\n  logout = 'SIGN_OUT',\n  setToken = 'SET_TOKEN',\n  setRefreshToken = 'SET_REFRESH_TOKEN',\n  setUser = 'SET_USER'\n}\n\ntype IActions = {\n  type: UserActions;\n  payload: string | User;\n}\n\nconst initialState: AuthState = {\n  user: null,\n  authenticated: false,\n  refreshToken: null,\n  token: null\n};\n\nexport const UserContext = createContext<{\n  userState: AuthState; dispatch: Dispatch<IActions>\n}>({\n  userState: initialState,\n  dispatch: () => null\n});\n\nconst authReducer = (state: AuthState, action: IActions) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case UserActions.logout:\n      localStorage.removeItem('LuftBnBAccessToken');\n      localStorage.removeItem('LuftBnBRefreshToken');\n      return initialState;\n    case UserActions.setToken:\n      return {\n        ...state,\n        authenticated: true,\n        token: payload as string\n      };\n    case UserActions.setRefreshToken:\n      return {\n        ...state,\n        refreshToken: payload as string\n      };\n    case UserActions.setUser:\n      return {\n        ...state,\n        user: payload as User,\n      };\n    default:\n      return state;\n  }\n};\n\ninterface AuthProviderProps {\n  children: JSX.Element;\n}\n\nexport const AuthProvider: FC<AuthProviderProps> = ({ children }) => {\n    const [userState, dispatch] = useReducer(authReducer, initialState);\n\n    useEffect(() => {\n      if (localStorage.getItem(\"LuftBnBRefreshToken\")) {\n\n        axios.get(`${process.env.REACT_APP_API_URL}/auth/refresh-token`, {\n          headers:{\n            authorization: `Bearer ${localStorage.getItem(\"LuftBnBRefreshToken\")}`\n          }\n        }).then(response => {\n          dispatch({ type: UserActions.setToken, payload: response.data.access_token });\n          dispatch({ type: UserActions.setRefreshToken, payload: response.data.refresh_token });\n          localStorage.setItem(\"LuftBnBAccessToken\", response.data.access_token);\n          localStorage.setItem(\"LuftBnBRefreshToken\", response.data.refresh_token);\n          axios.get(`${process.env.REACT_APP_API_URL}/user`, {\n            headers: {\n              authorization: `Bearer ${response.data.access_token}`\n            }\n          }).then(user => {\n            dispatch({ type: UserActions.setUser, payload: user.data});\n          }).catch((error) => console.log(error))\n        }).catch((error) => console.log(error))\n      }\n    }, []);\n    return (\n      <UserContext.Provider value={{ userState, dispatch }}>\n        {children}\n      </UserContext.Provider>\n    );\n  }\n;","import TextField from \"@mui/material/TextField\";\nimport React, { ChangeEvent } from \"react\";\nimport { useFormContext } from \"react-hook-form\";\n\ninterface TextInputProps {\n  label: string;\n  name: string;\n  placeholder: string;\n  type: string;\n  variant: \"standard\" | \"filled\" | \"outlined\";\n  multiline?: boolean;\n  numberProps?: { min: string, max: string, step: string }\n  value?: string | number;\n}\n\nconst TextInput: React.FC<TextInputProps> = ({\n  label,\n  name,\n  placeholder,\n  type,\n  variant,\n  multiline,\n  numberProps,\n  value,\n}) => {\n  const {\n    register,\n    formState: {errors},\n  } = useFormContext();\n  return (\n    <TextField\n      {...register(name)}\n      label={label}\n      name={name}\n      placeholder={placeholder}\n      fullWidth\n      type={type}\n      color=\"primary\"\n      variant={variant}\n      error={!!errors[name]}\n      multiline={multiline}\n      inputProps={numberProps}\n      helperText={errors[name] ? errors[name]?.message : \"\"}\n      defaultValue={value}\n    />\n  );\n};\n\nexport default TextInput;\n","import React, { useContext, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport BottomNavigation from \"@mui/material/BottomNavigation\";\nimport BottomNavigationAction from \"@mui/material/BottomNavigationAction\";\nimport { Link } from \"react-router-dom\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport AccountCircleIcon from \"@mui/icons-material/AccountCircle\";\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport BedIcon from '@mui/icons-material/Bed';\nimport { UserContext } from \"../../context/AuthProvider\";\nimport LockOpenIcon from '@mui/icons-material/LockOpen';\n\ninterface BottomNavbarProps {}\n\ninterface ButtonType {\n  label: string;\n  path: string;\n  icon: JSX.Element;\n}\n\nconst BottomNavbar: React.FC<BottomNavbarProps> = () => {\n\n  const { userState } = useContext(UserContext);\n  const listOfActions: ButtonType[] = [\n    {\n      label: \"Wyszukaj\",\n      path: \"search\",\n      icon: <SearchIcon />,\n    },\n    {\n      label: \"Rezerwacje\",\n      path: \"myReservations\",\n      icon: <BedIcon />,\n    },\n\n    userState.authenticated ? {\n      label: \"Dodaj\",\n      path: \"addOffer\",\n      icon: <AddCircleOutlineIcon />,\n    } : {\n    label: \"Zaloguj się\",\n      path: \"signin\",\n      icon: <LockOpenIcon />,\n  },\n    userState.authenticated ? {\n      label: \"Ustawienia\",\n      path: \"settings\",\n      icon: <SettingsIcon />,\n    } :  {\n      label: \"Zarejestruj się\",\n      path: \"signup\",\n      icon: <AccountCircleIcon />,\n    }\n  ];\n  const [value, setValue] = useState(\"search\");\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: string) => {\n    setValue(newValue);\n  };\n\n  //TODO ustawienia, moje oferty\n\n  return (\n    <Box sx={{ width: 500 }}>\n      <BottomNavigation\n        showLabels\n        value={value}\n        onChange={handleChange}\n        className=\"bottom-navbar\"\n      >\n        {listOfActions.map((action: ButtonType) => (\n          <BottomNavigationAction\n            key={action.path}\n            label={action.label}\n            icon={action.icon}\n            value={action.path}\n            component={Link}\n            to={`/${action.path}`}\n          />\n        ))}\n      </BottomNavigation>\n    </Box>\n  );\n};\n\nexport default BottomNavbar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AirIcon from \"@mui/icons-material/Air\";\n\ninterface NavbarProps {}\n\nconst Navbar: React.FC<NavbarProps> = () => {\n  const authenticated = false;\n  return (\n    <nav className=\"navbar centerXY\">\n      {authenticated ? (\n        <div className=\"navbar__content\">\n          <Link to=\"/home\" className=\"navbar__content__company-name\">\n            LuftB&B\n          </Link>\n\n          <></>\n        </div>\n      ) : (\n        <div className=\"navbar__content\">\n          <Link to=\"/home\" className=\"navbar__content__company-name\">\n            LuftB&B\n          </Link>\n          <AirIcon fontSize=\"large\" />\n        </div>\n      )}\n    </nav>\n  );\n};\n\nexport default Navbar;","import VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\nimport { IconButton, InputAdornment, TextField } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport { useFormContext } from \"react-hook-form\";\n\ninterface PasswordInputProps {\n  label: string;\n  name: string;\n  variant: \"standard\" | \"filled\" | \"outlined\";\n}\n\nconst PasswordInput: React.FC<PasswordInputProps> = ({\n  label,\n  name,\n  variant,\n}) => {\n  const [showPassword, setShowPassword] = useState(false);\n  const toggle = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const {\n    register,\n    formState: { errors },\n  } = useFormContext();\n  return (\n    <TextField\n      {...register(name)}\n      label={label}\n      name={name}\n      fullWidth\n      type={showPassword ? \"text\" : \"password\"}\n      color=\"primary\"\n      variant={variant}\n      error={!!errors[name]}\n      helperText={errors[name] ? errors[name]?.message : \"\"}\n      InputProps={{\n        endAdornment: (\n          <InputAdornment position=\"start\">\n            <IconButton onClick={toggle}>\n              {showPassword ? (\n                <VisibilityIcon style={{ fill: \"#989898\" }} />\n              ) : (\n                <VisibilityOffIcon style={{ fill: \"#989898\" }} />\n              )}\n            </IconButton>\n          </InputAdornment>\n        ),\n      }}\n    />\n  );\n};\n\nexport default PasswordInput;\n","import React from 'react';\nimport MenuItem from '@mui/material/MenuItem';\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\nimport InputLabel from '@mui/material/InputLabel';\nimport { FormControl } from \"@mui/material\";\nimport { useFormContext } from \"react-hook-form\";\nimport { PropertyType } from 'models/Offer';\n\ninterface Item {\n    value: string;\n    label: string;\n}\n\ninterface CustomSelectProps {\n    value: PropertyType | string;\n    setValue: React.Dispatch<React.SetStateAction<PropertyType | string>>;\n    variant?: \"filled\" | \"outlined\" | \"standard\";\n    label?: string;\n    menuItems: Item[];\n    placeholder?: string;\n    name: string;\n}\n\nconst CustomSelect: React.FC<CustomSelectProps> = ({ name, value, setValue, variant, label, menuItems, placeholder}) => {\n\n  const {\n    register\n  } = useFormContext();\n    const handleChange = (event: SelectChangeEvent) => {\n        setValue(event.target.value);\n    };\n    return (\n        <FormControl>\n            <InputLabel id=\"simple-select-label\">{label}</InputLabel>\n            <Select\n                {...register(name)}\n                id=\"simple-select\"\n                labelId=\"simple-select-label\"\n                value={value ? value : \"\"}\n                onChange={handleChange}\n                variant={variant}\n                label={label}\n                placeholder={placeholder}\n            >\n\n                {menuItems.map((menuItem, index) => (<MenuItem key={index} value={menuItem.value}>{menuItem.label}</MenuItem>))}\n            </Select>\n        </FormControl>\n    );\n};\n\nexport default CustomSelect;","import React from 'react';\nimport { CircularProgress } from \"@mui/material\";\n\ninterface LoadingIndicatorProps {\n  size?: string | number | undefined;\n}\n\nconst LoadingIndicator: React.FC<LoadingIndicatorProps> = ({size}) => {\n  return (<div className=\"loading-indicator\">\n    <CircularProgress size={size}/>\n  </div>);\n};\n\nexport default LoadingIndicator;","import * as yup from \"yup\";\n\nconst REGEX_PASSWORD =\n  /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,30}$/;\n\nconst validationCredentials = {\n  email: yup.string().email(\"Zły email\").required(\"Email jest wymagany\"),\n  password: yup\n    .string()\n    .required(\"Hasło jest wymagane\")\n    .min(8, \"Hasło jest za krótkie\")\n    .max(30, \"Hasło jest za długie\")\n    .matches(REGEX_PASSWORD, \"Hasło musi zawierać co najmniej jedną wielką i małą literę, znak specjalny oraz cyfrę\"),\n};\n\nexport const signUpSchema = yup.object().shape({\n  ...validationCredentials,\n  firstName: yup\n    .string()\n    .required(\"Imię jest wymagane\")\n    .min(3, \"Imię jest za krótkie\")\n    .max(15, \"Imię jest za długie\"),\n  lastName: yup\n    .string()\n    .required(\"Nazwisko jest wymagane\")\n    .min(3, \"Nazwisko jest za krótkie\")\n    .max(15, \"Nazwisko jest za długie\"),\n  password_confirmation: yup\n    .string()\n    .required(\"Musisz potwierdzić swoje hasło\")\n    .min(8, \"Hasło jest za krótkie\")\n    .max(30, \"Hasło jest za długie\")\n    .matches(REGEX_PASSWORD, \"Hasło musi zawierać co najmniej jedną wielką i małą literę, znak specjalny oraz cyfrę\"),\n});\n\nexport const signInSchema = yup.object().shape(validationCredentials);\n","import axios, {AxiosRequestConfig } from 'axios';\n\nconst baseURL = process.env.REACT_APP_API_URL;\n\nconst axiosCustom = axios.create({\n    baseURL: baseURL\n})\n\naxiosCustom.interceptors.request.use(function (req: AxiosRequestConfig) {\n    req.headers!.authorization = `Bearer ${localStorage.getItem(\"LuftBnBAccessToken\")}`;\n    return req;\n})\n\n// axiosCustom.interceptors.response.use(function (response :AxiosResponse) {return response;\n// }, function (error) {\n//     if(error.response.status === 401) {\n//         store.dispatch({type: RESET_AUTH});\n//     }\n//     return Promise.reject(error);\n// });\n\nexport default axiosCustom;","import React, { createContext, Dispatch, useReducer } from 'react';\n\nexport enum SearchActions {\n  setStartDate = 'SET_START_DATE',\n  setEndDate = 'SET_END_DATE',\n  setCity = 'SET_CITY',\n  setPeople = 'SET_PEOPLE',\n}\n\ntype ISearchActions = {\n  type: SearchActions;\n  payload: Date | string | number;\n}\n\ntype IState = {\n  startDate: Date;\n  endDate: Date;\n  city: string;\n  people: number;\n}\n\nconst initialState: IState = {\n  startDate: new Date(),\n  endDate: new Date(Date.now() + 86400000),\n  city: '',\n  people: 1,\n};\n\nexport const SearchContext = createContext<{ state: IState, dispatch: Dispatch<ISearchActions> }>({\n  state: initialState,\n  dispatch: () => null\n});\n\n\n\nconst searchReducer = (state: IState, action: ISearchActions) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SearchActions.setCity:\n      return {\n        ...state,\n        city: payload as string,\n      };\n    case SearchActions.setPeople:\n      return {\n        ...state,\n        people: payload as number,\n      };\n    case SearchActions.setStartDate:\n      return {\n        ...state,\n        startDate: payload as Date,\n      };\n    case SearchActions.setEndDate:\n      return {\n        ...state,\n        endDate: payload as Date,\n      };\n    default:\n      return state;\n  }\n};\n\n\ninterface SearchContextProps {\n  children: JSX.Element;\n}\n\n\nexport const SearchProvider: React.FC<SearchContextProps> = ({ children }) => {\n  const [state, dispatch] = useReducer(searchReducer, initialState);\n  return (\n    <SearchContext.Provider value={{ state, dispatch }}>\n      {children}\n    </SearchContext.Provider>\n  );\n};\n\n","import { yupResolver } from \"@hookform/resolvers/yup\";\nimport Button from \"@mui/material/Button\";\nimport \"App.scss\";\nimport { PasswordInput, TextInput } from \"components\";\nimport { signInData } from \"models/Authentication\";\nimport React, { useContext } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { signInSchema } from \"./ValidationSchema\";\nimport { Link } from \"react-router-dom\";\nimport { UserActions, UserContext } from \"context/AuthProvider\";\nimport { useMutation } from \"react-query\";\nimport axios from \"utils/axiosInstance\";\nimport LoadingButton from '@mui/lab/LoadingButton';\n\ninterface SignInProps {\n}\n\nexport const SignIn: React.FC<SignInProps> = () => {\n  const { dispatch } = useContext(UserContext);\n  const { data, isLoading, mutate } = useMutation(async (user: signInData) => {\n    const response = await axios.post('./auth/login', user);\n    return response;\n  }, {\n    onSuccess: (data) => {\n      dispatch({ type: UserActions.setToken, payload: data.data.access_token });\n      dispatch({ type: UserActions.setRefreshToken, payload: data.data.refresh_token });\n      localStorage.setItem(\"LuftBnBAccessToken\", data.data.access_token);\n      localStorage.setItem(\"LuftBnBRefreshToken\", data.data.refresh_token);\n      axios.get(`${process.env.REACT_APP_API_URL}/user`, {\n        headers: {\n          authorization: `Bearer ${data.data.access_token}`\n        }\n      }).then(user => {\n        dispatch({ type: UserActions.setUser, payload: user.data});\n      }).catch((error) => console.log(error))\n    }\n  });\n\n\n  const methods = useForm<signInData>({\n    resolver: yupResolver(signInSchema),\n  });\n\n\n  const onSubmit = (data: signInData) => {\n    mutate(data);\n  };\n\n  return (\n    <main className=\"auth\">\n      <div className=\"auth__header\">\n        <h1>Zaloguj się</h1>\n      </div>\n\n      <FormProvider {...methods}>\n        <form\n          onSubmit={methods.handleSubmit(onSubmit)}\n          className=\"auth__form auth__form--sign-in\"\n        >\n          <TextInput\n            label=\"Email\"\n            name=\"email\"\n            placeholder=\"email@email.com\"\n            type=\"email\"\n            variant=\"outlined\"\n          />\n          <PasswordInput label=\"Hasło\" name=\"password\" variant=\"outlined\"/>\n\n          {isLoading ? <LoadingButton loading variant=\"contained\">\n            Submit\n          </LoadingButton> : <Button type=\"submit\" variant=\"contained\">\n            Zaloguj się\n          </Button>}\n        </form>\n        <div className=\"auth__footer\">\n          <p>Nie masz konta? </p>\n          <Link to=\"/signup\">Zarejestruj się</Link>\n        </div>\n      </FormProvider>\n    </main>\n  );\n};\n\n","import { yupResolver } from \"@hookform/resolvers/yup\";\nimport Button from \"@mui/material/Button\";\nimport \"App.scss\";\nimport { PasswordInput, TextInput } from \"components\";\nimport { signInData, signUpData } from \"models/Authentication\";\nimport React, { useContext } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\n//import { signUp } from \"store/actions/authActions\";\nimport { Link } from \"react-router-dom\";\nimport { signUpSchema } from \"./ValidationSchema\";\nimport { useMutation } from \"react-query\";\nimport axios from \"utils/axiosInstance\";\nimport { UserActions, UserContext } from \"context/AuthProvider\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\n\ninterface SignUpProps {\n}\n\nexport const SignUp: React.FC<SignUpProps> = () => {\n  const { dispatch } = useContext(UserContext);\n  const { isLoading, mutate } = useMutation(async (user: signInData) => {\n    const response = await axios.post('./auth/register', user);\n    console.log(response);\n    return response;\n  }, {\n    onSuccess: (data) => {\n      dispatch({ type: UserActions.setToken, payload: data.data.access_token });\n      dispatch({ type: UserActions.setRefreshToken, payload: data.data.refresh_token });\n      localStorage.setItem(\"LuftBnBAccessToken\", data.data.access_token);\n      localStorage.setItem(\"LuftBnBRefreshToken\", data.data.refresh_token);\n      axios.get(`${process.env.REACT_APP_API_URL}/user`, {\n        headers: {\n          authorization: `Bearer ${data.data.access_token}`\n        }\n      }).then(user => {\n        dispatch({ type: UserActions.setUser, payload: user.data});\n      }).catch((error) => console.log(error))\n    }\n  });\n  const methods = useForm<signUpData>({\n    resolver: yupResolver(signUpSchema),\n  });\n\n  const onSubmit = (data: signUpData) => {\n    mutate(data)\n  };\n  return (\n    <main className=\"auth\">\n      <div className=\"auth__header\">\n        <h1>Zarejestruj się</h1>\n      </div>\n\n      <FormProvider {...methods}>\n        <form\n          onSubmit={methods.handleSubmit(onSubmit)}\n          className=\"auth__form auth__form--sign-up\"\n        >\n          <TextInput\n            label=\"Imię\"\n            name=\"firstName\"\n            placeholder=\"Imię\"\n            type=\"text\"\n            variant=\"outlined\"\n          />\n          <TextInput\n            label=\"Nazwisko\"\n            name=\"lastName\"\n            placeholder=\"Nazwisko\"\n            type=\"text\"\n            variant=\"outlined\"\n          />\n          <TextInput\n            label=\"Email\"\n            name=\"email\"\n            placeholder=\"email@email.com\"\n            type=\"email\"\n            variant=\"outlined\"\n          />\n          <PasswordInput label=\"Password\" name=\"password\" variant=\"outlined\"/>\n          <PasswordInput\n            label=\"Confirm Password\"\n            name=\"password_confirmation\"\n            variant=\"outlined\"\n          />\n\n          {isLoading ? <LoadingButton loading variant=\"contained\">\n            Submit\n          </LoadingButton> :<Button type=\"submit\" variant=\"contained\">\n            Zarejestruj się\n          </Button>}\n        </form>\n      </FormProvider>\n\n      <span className=\"auth__footer\">\n        <p>Masz już konto? </p>\n        <Link to=\"/signin\" className=\"sign-in__footer__link\">\n          Zaloguj się\n        </Link>\n      </span>\n    </main>\n  );\n};\n","import React, { useState } from 'react';\nimport 'react-date-range/dist/styles.css';\nimport 'react-date-range/dist/theme/default.css';\nimport { DateRange, RangeKeyDict } from 'react-date-range';\n\ninterface CalendarProps {\n    startDate: Date;\n    endDate: Date;\n    disabledDates?: Date[];\n    onChange: (startDate: Date, endDate: Date) => void;\n}\n\ninterface pickedDateRange {\n    startDate?: undefined | Date;\n    endDate?: undefined | Date;\n    key?: undefined | string;\n}\n\nexport const Calendar: React.FC<CalendarProps> = ({startDate, endDate, disabledDates, onChange}) => {\n    const [state, setState] = useState<pickedDateRange[]>([\n        {\n            startDate: startDate,\n            endDate: endDate,\n            key: 'selection'\n        }\n    ]);\n\n    const onDateChange = (item: RangeKeyDict) => {\n        item.selection.startDate && item.selection.endDate &&\n            onChange(item.selection.startDate, item.selection.endDate);\n\n\n        setState([item.selection])\n\n    }\n\n    return (<DateRange\n        className=\"calendar\"\n        showDateDisplay={false}\n        onChange={onDateChange}\n        moveRangeOnFirstSelection={false}\n        minDate={new Date()}\n        months={1}\n        ranges={state}\n        direction=\"horizontal\"\n        rangeColors={['#FF385CFF']}\n        disabledDates={disabledDates}\n    />);\n};","import React, { useContext } from 'react';\nimport Button from '@mui/material/Button';\nimport { SearchContext } from \"context/SearchProvider\";\nimport { useMutation } from \"react-query\";\nimport axios from \"../../../../utils/axiosInstance\";\nimport { Reservation } from \"../../../../models/Offer\";\nimport { Link } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport moment from \"moment\";\n\ninterface OfferReservationProps {\n  dailyPrice: number;\n  offerId: number;\n}\n\nexport const OfferReservation: React.FC<OfferReservationProps> = ({dailyPrice, offerId}) => {\n  const {state} = useContext(SearchContext);\n  const {startDate, endDate} = state;\n  const navigate = useNavigate();\n  const { isLoading, mutate } = useMutation(async () => {\n    const fData = new FormData();\n    fData.append('startDate', moment(state.startDate).format('YYYY-MM-DD'));\n    fData.append('endDate', moment(state.endDate).format('YYYY-MM-DD'));\n    fData.append('offer', offerId.toString());\n    const response = await axios.post('./reservation', fData);\n    return response;\n  }, {\n    onSuccess: () => {\n      navigate('/myReservations');\n    }\n  });\n\n  const handleClick = () => {\n    mutate();\n  };\n\n  const countDays = (first: Date, second: Date) => {\n    const difference = Math.abs(first.getTime() - second.getTime());\n    const daysCount = Math.ceil(difference / (1000 * 3600 * 24) + 1);\n    return daysCount\n  }\n\n  const calculateTotalPrice = (daysCount: number) => {\n    return dailyPrice*daysCount;\n  }\n\n  const formatDate = (date: Date) => {\n    const options: Intl.DateTimeFormatOptions = {\n      month: 'short', day: 'numeric'\n    }\n\n    return new Intl.DateTimeFormat(\"pl-PL\", options).format(new Date(date));\n  }\n\n  return (\n    <div className=\"reservation\">\n      <div>\n          <h1 className=\"reservation__title\">Rezerwuj</h1>\n          <p>{dailyPrice}zł / noc</p>\n          <p><u>{formatDate(startDate)} – {formatDate(endDate)}</u></p>\n      </div>\n      <div  className=\"reservation__total\">\n          <p>Łącznie: <u>{calculateTotalPrice(countDays(startDate, endDate))}zł</u></p>\n        {isLoading\n          ? <LoadingButton loading variant=\"contained\"> Submit </LoadingButton>\n          : <Button onClick={() => mutate()}>Rezerwuj</Button>\n        }\n      </div>\n    </div>\n  );\n};","import React from 'react';\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { TextInput } from \"../../../../components\";\nimport Rating from '@mui/material/Rating';\nimport Box from '@mui/material/Box';\nimport StarIcon from '@mui/icons-material/Star';\nimport Button from \"@mui/material/Button\";\nimport { useMutation } from \"react-query\";\nimport axios from \"../../../../utils/axiosInstance\";\nimport { IAddOpinion, Offer } from \"models/Offer\";\n\ninterface AddOpinionProps {\n  offer: Offer;\n  refetchOpinions: () => {}\n}\n\nexport const AddOpinion: React.FC<AddOpinionProps> = ({refetchOpinions, offer}) => {\n  const [value, setValue] = React.useState<number>(2);\n  const { isLoading, mutate } = useMutation(async (opinion: IAddOpinion) => {\n    const fData = new FormData();\n    fData.append('content', opinion.content.toString());\n    fData.append('rate', opinion.rate.toString());\n    fData.append('offer', opinion.offer.toString());\n\n    const response = await axios.post('./opinion', fData);\n    console.log(response);\n    return response;\n  }, {\n    onSuccess: () => {\n      refetchOpinions()\n    }\n  });\n\n  const methods = useForm();\n\n  const onSubmit = (data: any) => {\n    const opinion: IAddOpinion = {\n      content: data.opinion,\n      rate: value,\n      offer: offer.id\n    }\n\n    mutate(opinion);\n  }\n\n  return (<article>\n    <FormProvider {...methods}>\n      <form onSubmit={methods.handleSubmit(onSubmit)}  className=\"add-opinion-form\">\n        <div className=\"opinions-title\">\n          <h3>Co myślisz o tym obiekcie?</h3>\n          <Box\n            sx={{\n              display: 'flex',\n              alignItems: 'center',\n            }}\n          >\n            <Rating\n              name=\"hover-feedback\"\n              value={value}\n              precision={1}\n              onChange={(event, newValue) => {\n                setValue(newValue as number);\n              }}\n              emptyIcon={<StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />}\n            />\n          </Box>\n        </div>\n        <TextInput label=\"Dodaj opinię\" name=\"opinion\" placeholder=\"Miejsce na opinię...\" type=\"text\" variant=\"outlined\" multiline={true} />\n        <Button type=\"submit\">Dodaj</Button>\n      </form>\n    </FormProvider>\n  </article>);\n};","import React, { useContext } from 'react';\nimport StarIcon from \"@mui/icons-material/Star\";\nimport { IOpinion } from \"../../../../models/Offer\";\nimport { useMutation } from \"react-query\";\nimport axios from \"../../../../utils/axiosInstance\";\nimport { UserContext } from \"../../../../context/AuthProvider\";\n\n\ninterface OpinionProps {\n  opinion: IOpinion;\n  onDelete: () => {};\n}\n\nexport const Opinion: React.FC<OpinionProps> = ({opinion, onDelete}) => {\n  const { userState } = useContext(UserContext);\n  const { mutate } = useMutation(async () => {\n    return await axios.delete(`/opinion/${opinion.id}`);\n  }, {\n    onSuccess: () => {\n      onDelete();\n    }\n  } );\n  return (<div className=\"opinion\">\n    <div className=\"opinion__author\">\n      <div>\n        <p>{opinion.author.firstName}</p>\n        <p className=\"opinion__post-date\">{opinion.date}</p>\n      </div>\n      <div className=\"opinion__rating\">{opinion.rate}/5 <StarIcon /></div>\n    </div>\n    <p className=\"opinion__comment\">\n      {opinion.content}\n    </p>\n    {userState.user?.id === opinion.author.id &&\n      <p onClick={() => mutate()} className=\"opinion__delete-opinion\">Usuń</p>\n    }\n  </div>);\n};","import React, { useContext } from 'react';\nimport StarIcon from '@mui/icons-material/Star';\nimport { Offer, IOpinion } from \"../../../../models/Offer\";\nimport { AddOpinion } from \"../AddOpinion/AddOpinion\";\nimport { Opinion } from \"../Opinion/Opinion\";\nimport { UserContext } from \"../../../../context/AuthProvider\";\n\ninterface OfferOpinionsProps {\n    rateCount: number;\n    opinionsCount: number;\n    opinions: IOpinion[];\n    refetchOpinions: () => {};\n    offer: Offer;\n    offerOwnerId: number;\n}\n\nexport const OfferOpinions: React.FC<OfferOpinionsProps> = ({rateCount, opinionsCount, opinions, refetchOpinions, offer, offerOwnerId}) => {\n  const { userState } = useContext(UserContext);\nconsole.log(offerOwnerId)\n  console.log(userState.user?.id)\n\n  return (<section>\n    {offerOwnerId !== userState.user?.id && <AddOpinion refetchOpinions={refetchOpinions} offer={offer} />}\n        <div className=\"opinions-title\">\n            <p>Recenzje</p>\n            <span className=\"offer__ratings\">\n                        <StarIcon/>\n                        <p>{rateCount.toFixed(2)}</p>\n                        <p className=\"offer--clickable-text\">(Ilość recenzji: {opinionsCount})</p>\n                    </span>\n        </div>\n        {\n            opinions.map((opinion: IOpinion) => (\n              <Opinion opinion={opinion} onDelete={refetchOpinions} key={opinion.id}/>\n            ))\n        }\n    </section>);\n};","import React, { memo } from 'react';\nimport {Carousel} from 'react-responsive-carousel';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\n\n\n\ninterface OfferCarouselProps {\n    images?: string[];\n}\n\nconst OfferCarousel: React.FC<OfferCarouselProps> = ({images}) => {\n    const imageItems = images?.map((image, key) => (\n        <img key={image} src={image} alt={`zdjęcie${key}`}/>\n    ));\n\n    return (\n        <Carousel className=\"offer-carousel\" showArrows showStatus={false} dynamicHeight={true} showThumbs={false}>\n            {imageItems}\n        </Carousel>\n    );\n};\n\nexport default memo(OfferCarousel);","import axios from \"../utils/axiosInstance\";\n\nexport const fetchCities = async () => {\n    const res = await axios(\"./cities\");\n\n    return res;\n}","import axios from \"../utils/axiosInstance\";\n\nexport const getOfferById = async (id: string) => {\n  const data = await axios.get(`./offer/${id}`, {\n    params: {\n      withRatings: true\n    }\n  })\n  return await data.data\n}\n\nexport const getOfferOwner = async (id: string) => {\n  const data = await axios.get(`./offer/${id}/owner`)\n  return await data.data\n}\n\nexport const getOfferReservations = async (id: string) => {\n  const data = await axios.get(`./offer/${id}/reservations`)\n  return await data.data\n}\n\nexport const getOfferOpinions = async (id: string) => {\n  const data = await axios.get(`./offer/${id}/opinions`)\n  return await data.data\n}\n","import React, { useContext } from \"react\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport StarIcon from '@mui/icons-material/Star';\nimport { Calendar } from 'components/Calendar/Calendar';\nimport { OfferReservation } from \"./components/OfferReservation/OfferReservation\";\nimport { OfferOpinions } from \"./components/OfferOpinions/OfferOpinions\";\nimport OfferCarousel from \"./components/OfferCarousel/OfferCarousel\";\nimport { useQuery, UseQueryResult } from \"react-query\";\nimport { fetchCities } from \"actions/homePageActions\";\nimport { LoadingIndicator } from \"components\";\nimport { getOfferById, getOfferOpinions, getOfferOwner, getOfferReservations } from \"actions/offerPageActions\";\nimport { Offer as OfferModel, Reservation } from \"../../models/Offer\";\nimport Button from \"@mui/material/Button\";\nimport { User } from \"models/Authentication\";\nimport { SearchActions, SearchContext } from \"context/SearchProvider\";\nimport { UserContext } from \"../../context/AuthProvider\";\n\ninterface OfferProps {\n\n}\n\nconst Offer: React.FC<OfferProps> = () => {\n  const { isFetching, data: cityData, error } = useQuery('cities', fetchCities);\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const { state, dispatch } = useContext(SearchContext);\n  const { userState } = useContext(UserContext);\n\n\n  const {\n    data: offer,\n    isFetching: isOfferFetching\n  }: UseQueryResult<OfferModel> = useQuery(['offer', id], () => getOfferById(id!));\n\n  const { data: offerOwner, isFetching: isOfferOwnerFetching }: UseQueryResult<User> =\n    useQuery(['offerOwner', id], () => getOfferOwner(id!));\n\n  const { data: offerReservations, isFetching: isOfferReservationFetching } =\n    useQuery<Reservation[]>(['offerReservations', id], () => getOfferReservations(id!), {\n      refetchOnWindowFocus: true,\n      refetchInterval: 60000\n    });\n\n  const {\n    data: offerOpinions,\n    isFetching: isOfferOpinionsLoading,\n    refetch: opinionsRefetch\n  } =\n    useQuery(['offerOpinions', id], () => getOfferOpinions(id!), { enabled: false });\n\n\n  const onChange = (startDate: Date, endDate: Date) => {\n    dispatch({ type: SearchActions.setStartDate, payload: startDate });\n    dispatch({ type: SearchActions.setEndDate, payload: endDate });\n  };\n\n  const disabledDatesForReservations = offerReservations?.map(reservation => {\n    const startDate = new Date(reservation.startDate);\n    const endDate = new Date(reservation.endDate);\n    let tempDate = new Date(startDate.getTime());\n    const reservationDates = [];\n    reservationDates.push(startDate);\n    while (tempDate.getTime() < endDate.getTime()) {\n      tempDate.setDate(tempDate.getDate() + 1);\n      reservationDates.push(new Date(tempDate));\n    }\n    return reservationDates;\n  });\n\n  const disabledDates = disabledDatesForReservations?.reduce((acc, date) => {\n    return acc.concat(date);\n  }, []);\n\n  if (isOfferFetching || isOfferOwnerFetching) {\n    return <LoadingIndicator/>;\n  }\n  return (\n    <main className=\"offer\">\n      <nav className=\"offer__nav\">\n        <ChevronLeftIcon onClick={() => navigate(-1)}/>\n        {/*<FavoriteBorderIcon/>*/}\n        {userState.user?.id === offerOwner?.id && <Link to=\"/editOffer\" state={{ id: offer?.id }}>Edytuj</Link>}\n      </nav>\n\n      <OfferCarousel images={offer?.images.map(image => image.url)}/>\n\n      <section className=\"offer__content\">\n        <h1 className=\"offer__title\">\n          {offer?.title}\n        </h1>\n\n        <article className=\"offer__info\">\n                    <span className=\"offer__ratings\">\n                        <StarIcon/>\n                        <p>{Number(offer?.ratings.rateCount).toFixed(2)}</p>\n                        <p className=\"offer--clickable-text\">(Ilość rezenzji: {offer?.ratings.opinionsCount})</p>\n                    </span>\n          <p className=\"offer--clickable-text\">{offer?.city}</p>\n        </article>\n\n        <div className=\"offer__divider\"/>\n\n        <article className=\"offer__info\">\n          <div className=\"offer__host-info\">\n            <p>Mały domek</p>\n            <p>Ilość gości: {offer?.maxPeople}</p>\n            <p>Gospodarz: {offerOwner?.firstName}</p>\n            <p>Email: {offerOwner?.email}</p>\n          </div>\n\n        </article>\n        <div className=\"offer__divider\"/>\n        <article className=\"offer__description\">\n          <p>{offer?.description}</p>\n        </article>\n        <div className=\"offer__divider\"/>\n        <article className=\"offer__reservation\">\n          <Calendar startDate={state.startDate} endDate={state.endDate} onChange={onChange}\n                    disabledDates={disabledDates}/>\n          <OfferReservation dailyPrice={offer!.dailyPrice} offerId={offer!.id}/>\n        </article>\n\n        <div className=\"offer__divider\"/>\n        {!offerOpinions && !isOfferOpinionsLoading\n          ? <div className=\"offer__opinion-fetch-wrapper\">\n            <Button className=\"offer__opinion-refresh-button\" onClick={() => opinionsRefetch()}>Załaduj opinie</Button>\n          </div>\n          : isOfferOpinionsLoading\n            ? <LoadingIndicator/>\n            : <article className=\"offer__opinions\">\n              <OfferOpinions rateCount={Number(offer?.ratings.rateCount)}\n                             opinionsCount={Number(offer?.ratings.opinionsCount)}\n                             opinions={offerOpinions}\n                             offer={offer!}\n                             refetchOpinions={opinionsRefetch}\n                             offerOwnerId={offerOwner!.id!}\n              />\n            </article>\n        }\n      </section>\n    </main>\n  );\n};\n\nexport default Offer;\n","import React, { useContext } from \"react\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Box from \"@mui/material/Box\";\nimport LocationOnIcon from \"@mui/icons-material/LocationOn\";\nimport IconButton from \"@mui/material/IconButton\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport { useQuery } from \"react-query\";\nimport { fetchCities } from \"actions/homePageActions\";\nimport { LoadingIndicator } from 'components';\nimport Button from \"@mui/material/Button\";\nimport { Link } from \"react-router-dom\";\nimport { SearchActions, SearchContext } from \"context/SearchProvider\";\n\n\ninterface SearchDrawerProps {\n}\n\nexport const SearchDrawer: React.FC<SearchDrawerProps> = ({}) => {\n  const { isLoading, data, isError, refetch } = useQuery('cities', fetchCities);\n  const { state, dispatch } = useContext(SearchContext);\n\n  const handleClick = (city: string) => {\n    //dispatch({type: SearchActions.setCity, payload: city});\n    console.log(SearchActions.setCity)\n    dispatch({ type: SearchActions.setCity, payload: city });\n  }\n\n  return (\n    <section>\n      <div className=\"search-drawer\">\n        <div>\n          <IconButton aria-label=\"delete\">\n            <ChevronLeftIcon/>\n          </IconButton>\n\n          <input\n            type=\"text\"\n            className=\"search-drawer__input\"\n            placeholder=\"Dokąd chcesz pojechać?\"\n          />\n        </div>\n        <p>W DOWOLNYM MIEJSCU, W DOWOLNYM CZASIE</p>\n      </div>\n\n      <Box\n        sx={{\n          width: \"100%\",\n          bgcolor: \"background.paper\",\n          paddingBottom: \"20px\",\n        }}\n      >\n        <nav aria-label=\"main mailbox folders\">\n\n\n          {isLoading ? <LoadingIndicator/> :\n            <List>\n              {data && data.data.map((city: string) => (\n                <ListItem disablePadding key={city} to={`/search`} component={Link} onClick={() => handleClick(city)}>\n                  <ListItemButton>\n                    <ListItemIcon>\n                      <LocationOnIcon/>\n                    </ListItemIcon>\n                    <ListItemText primary={city}/>\n                  </ListItemButton>\n                </ListItem>\n              ))\n              }\n            </List>\n          }\n          {\n            isError && <div className=\"search-drawer__refresh-wrapper\">\n              <Button className=\"search-drawer__refresh-button\" onClick={() => refetch()}>Załaduj ponownie</Button>\n            </div>\n          }\n\n        </nav>\n      </Box>\n    </section>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport Drawer from \"@mui/material/Drawer\";\nimport { SearchDrawer } from \"./SearchDrawer\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport { UserContext } from \"../../context/AuthProvider\";\nimport { useNavigate } from \"react-router-dom\";\n\n\ninterface HomeProps {}\n\nexport const Home: React.FC<HomeProps> = () => {\n\n  const { userState } = useContext(UserContext);\n  const [visible, setVisible] = useState(false);\n  const toggle = () => {\n    setVisible(!visible);\n  };\n\n  const navigate = useNavigate();\n\n  return (\n    <main>\n      <div className=\"home\">\n        <h1>Wybierz swoje wymarzone miejsce na podróż</h1>\n        <button onClick={ () => userState.authenticated ? toggle() : navigate(\"/signin\")} className=\"home__button\">\n          <SearchIcon fontSize=\"medium\" className=\"home__search-icon\" />\n          Dokąd chcesz pojechać?\n        </button>\n\n      </div>\n      <Drawer open={visible} onClose={toggle} anchor=\"top\">\n        <SearchDrawer />\n      </Drawer>\n    </main>\n  );\n};\n","import React from 'react';\nimport FavoriteTwoToneIcon from '@mui/icons-material/FavoriteTwoTone';\nimport { Link } from \"react-router-dom\";\nimport { Offer } from \"models/Offer\";\n\ninterface OfferTileProps {\n    offer: Offer\n}\n\nexport const OfferTile: React.FC<OfferTileProps> = ({offer}) => {\n    return (\n        <Link to={`/offer/${offer.id}`}>\n\n            <div className=\"tile-offer\">\n                <h2>{offer.title}</h2>\n                <div className=\"tile-offer__image\">\n                    <img src={offer.images[0]?.url} alt=\"obrazek\"/>\n                    <FavoriteTwoToneIcon className=\"tile-offer__icon\" />\n\n                </div>\n                <div className=\"tile-offer__description\">\n\n                    <p><u>Lokalizacja:</u> {offer.city}</p>\n                    <p>{offer.description}</p>\n                    <p className=\"tile-offer__description__price-per-day\"><strong>{offer.dailyPrice} zł</strong> / noc</p>\n                </div>\n            </div>\n        </Link>\n    );\n};","import React from 'react';\nimport Button from \"@mui/material/Button\";\nimport { useMutation } from \"react-query\";\nimport axios from \"utils/axiosInstance\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\n\ninterface ReservationTileProps {\n  totalPrice: number;\n  startDate: string;\n  endDate: string;\n  reservationId: number;\n  onDelete: () => {};\n}\n\nexport const ReservationTile: React.FC<ReservationTileProps> = ({ totalPrice, startDate, endDate, reservationId, onDelete}) => {\n  const { mutate, isLoading} = useMutation(async () => {\n    return await axios.delete(`/reservation/${reservationId}`);\n  }, {\n    onSuccess: () => {\n      onDelete();\n  }\n  } );\n  const today = new Date();\n  const firstDay = new Date(startDate);\n  return (<div className=\"my-reservations__reservation-tile\">\n    <div>\n      <div className=\"my-reservations__totalPrice\">Łączna cena za pobyt: <strong>{totalPrice} zł</strong></div>\n      <p>Data przyjazdu: {startDate}</p>\n      <p>Ostatni dzień: {endDate}</p>\n    </div>\n    {/*{today < firstDay && <Button onClick={() => mutate()}>Anuluj rezerwację</Button>}*/}\n    {isLoading\n      ? <LoadingButton loading variant=\"contained\"> Submit </LoadingButton>\n      : today < firstDay && <Button onClick={() => mutate()}>Anuluj rezerwację</Button>\n    }\n  </div>);\n};","import React, { useContext } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { Link } from 'react-router-dom';\nimport { UserContext } from \"../../context/AuthProvider\";\nimport { useQuery } from \"react-query\";\nimport axios from \"utils/axiosInstance\";\nimport { OfferTile } from \"../search/components/OfferTile\";\nimport { UserReservation } from \"../../models/Offer\";\nimport { ReservationTile } from \"./components/ReservationTile/ReservationTile\";\nimport { LoadingIndicator } from \"../../components\";\nimport { SignIn } from \"../auth/SignIn\";\n\ninterface MyReservationsProps {\n}\n\nexport const MyReservations: React.FC<MyReservationsProps> = ({}) => {\n  const { userState } = useContext(UserContext);\n\n  const { isFetching, data: userReservations, refetch } = useQuery('myReservations', async () => {\n    const result = await axios.get(`./user/reservation`);\n    return result;\n  });\n\n\n  if (userState.authenticated)\n    return (\n      <main className=\"my-reservations\">\n        {isFetching\n          ? <LoadingIndicator/>\n          : <section className=\"my-reservations__content\">\n            <h1>Moje rezerwacje</h1>\n            <div>\n              {userReservations?.data.map((reservation: UserReservation) =>\n                <div key={reservation.id}>\n                  <OfferTile offer={reservation.offer}/>\n                  <ReservationTile totalPrice={reservation.price} startDate={reservation.startDate}\n                                   endDate={reservation.endDate} reservationId={reservation.id} onDelete={refetch}/>\n                </div>\n              )}\n            </div>\n          </section>\n        }\n      </main>\n    );\n\n  return (\n    <SignIn />\n  );\n};\n","import { Navigate, useLocation } from \"react-router-dom\";\nimport React, { useContext } from \"react\";\nimport { UserContext } from \"../context/AuthProvider\";\n\ninterface ProtectedRouteProps {\n  children: JSX.Element;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {\n  const {userState} = useContext(UserContext);\n\n  if (userState.authenticated) {\n    return children;\n  }\n\n  return <Navigate to=\"/signin\" />;\n};\n","import { Navigate } from \"react-router-dom\";\nimport React, { useContext } from \"react\";\nimport { UserContext } from \"../context/AuthProvider\";\n\ninterface PublicRouteProps {\n  children: JSX.Element;\n}\n\nexport const PublicRoute: React.FC<PublicRouteProps> = ({ children }) => {\n  const { userState } = useContext(UserContext);\n\n  if (userState.authenticated) {\n    return <Navigate to=\"/home\" />;\n  }\n  return children;\n};\n","import React from 'react';\nimport Typography from \"@mui/material/Typography\";\nimport Popover from \"@mui/material/Popover\";\nimport Button from \"@mui/material/Button\";\nimport Box from \"@mui/material/Box\";\n\ninterface CalendarPopoverProps {\n    buttonLabel: string;\n    popoverContent: JSX.Element;\n}\n\nexport const CalendarPopover: React.FC<CalendarPopoverProps> = ({buttonLabel, popoverContent}) => {\n    const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <>\n            <Button aria-describedby={id} variant=\"contained\" onClick={handleClick}>\n                {buttonLabel}\n            </Button>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: 'center',\n                    horizontal: 'center',\n                }}\n            >\n\n              {popoverContent}\n            </Popover>\n        </>\n        );\n};","import React from 'react';\nimport Drawer from \"@mui/material/Drawer\";\nimport { SvgIconProps } from \"@mui/material/SvgIcon\";\n\ninterface DrawerComponentProps {\n    buttonLabel?: string;\n    drawerContent: JSX.Element;\n    drawerIcon?: React.ReactElement<SvgIconProps>;\n    visible: boolean;\n    setVisible: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const DrawerComponent: React.FC<DrawerComponentProps> = ({drawerIcon, buttonLabel, drawerContent, visible, setVisible}) => {\n    const toggle = () => {\n        setVisible(!visible);\n    };\n    return (\n        <div>\n            {buttonLabel && <button onClick={toggle}>\n                {buttonLabel}\n            </button>}\n            {drawerIcon && <div onClick={toggle}>{drawerIcon}</div>}\n            <Drawer open={visible} onClose={toggle} anchor=\"top\">\n                {drawerContent}\n            </Drawer>\n        </div>\n    );\n};","import React, { Dispatch, SetStateAction, useState, FC, SyntheticEvent, ChangeEvent } from 'react';\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Slider from \"@mui/material/Slider\";\nimport Checkbox from '@mui/material/Checkbox';\nimport Switch from '@mui/material/Switch';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport SmokingRoomsIcon from '@mui/icons-material/SmokingRooms';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport { Ifilters } from \"models/Offer\";\n\n\n\ninterface MoreFiltersProps {\n    setVisible: Dispatch<SetStateAction<boolean>>;\n    setFilters: Dispatch<SetStateAction<Ifilters>>\n    visible: boolean;\n    filters: Ifilters;\n    prices: number[]\n}\n\nfunction valuetext(value: number) {\n    return `${value} $`;\n}\n\nconst minDistance = 10;\n\n\nexport const MoreFilters: FC<MoreFiltersProps> = ({setVisible, visible, filters, setFilters, prices}) => {\n    const [price, setPrice] = useState<number[]>(filters.price);\n\n    const propertyTypes = [\n        {\n            label: \"Dom\",\n            property: \"home\",\n            checked: filters.home\n        },\n        {\n            label: \"Apartament\",\n            property: \"apartment\",\n            checked: filters.apartment\n        },\n        {\n            label: \"Hotel\",\n            property: \"hotel\",\n            checked: filters.hotel\n        },\n        {\n            label: \"Hostel\",\n            property: \"hostel\",\n            checked: filters.hostel\n        },\n    ];\n    const handleChange1 = (\n        event: Event | SyntheticEvent,\n        newValue: number | number[],\n        activeThumb: number\n    ) => {\n        if (!Array.isArray(newValue)) {\n            return;\n        }\n        activeThumb === 0 ? setPrice([Math.min(newValue[0], price[1] - minDistance), price[1]]) : setPrice([price[0], Math.max(newValue[1], price[0] + minDistance)]);\n    };\n\n    const updateFiltersPrice = () => {\n        setFilters({\n            ...filters,\n            price: price\n        })\n    }\n\n    const handleChangeCheckbox = (event: ChangeEvent<HTMLInputElement>) => {\n        setFilters({\n            ...filters,\n            [event.target.name] : event.target.checked\n        })\n        console.log({\n            ...filters,\n            [event.target.name] : event.target.checked\n        })\n    }\n\n\n    return (<div className=\"more-filters\">\n            <div className=\"more-filters__header\">\n                <IconButton onClick={() => setVisible(!visible)}>\n                    <CloseIcon />\n                </IconButton>\n                <h2>Więcej filtrów</h2>\n                <div></div>\n            </div>\n        <div className=\"more-filters__container\">\n\n            <div className=\"more-filters__price\">\n                <h2>\n                    Cena za noc\n\n                </h2>\n                <Slider\n                    getAriaLabel={() => 'Minimum distance'}\n                    value={price}\n                    onChange={handleChange1}\n                    valueLabelDisplay=\"auto\"\n                    getAriaValueText={valuetext}\n                    onChangeCommitted={updateFiltersPrice}\n                    disableSwap\n                    min={prices[0]}\n                    max={prices[1]}\n\n                />\n                <div className=\"more-filters__price__inputs\">\n                    <TextField\n                        label=\"Cena minimalna\"\n                        id=\"outlined-start-adornment\"\n                        sx={{ m: 1, width: '15ch' }}\n                        InputProps={{\n                            startAdornment: <InputAdornment position=\"start\">zł</InputAdornment>,\n                        }}\n                        value={price[0]}\n                    />\n                    <h2>-</h2>\n                    <TextField\n                        label=\"Cena maksymalna\"\n                        id=\"outlined-start-adornment\"\n                        sx={{ m: 1, width: '15ch' }}\n                        InputProps={{\n                            startAdornment: <InputAdornment position=\"start\">zł</InputAdornment>,\n                        }}\n                        value={price[1]\n                    }\n                    />\n                </div>\n            </div>\n            <div className=\"more-filters__property-type\">\n                <h2>\n                    Rodzaj nieruchomości\n                </h2>\n                <div>\n                    {propertyTypes.map(item => (\n                      <FormControlLabel key={item.property} control={<Checkbox checked={item.checked} name={item.property} onChange={handleChangeCheckbox}/>} label={item.label} />\n                    ))}\n                </div>\n            </div>\n\n            <div className=\"more-filters__facilities\">\n                <h2>\n                    Palenie\n                </h2>\n                <FormControlLabel control={<Switch checked={filters.smoking} name=\"smoking\" onChange={handleChangeCheckbox}/>} label={<SmokingRoomsIcon />} />\n            </div>\n        </div>\n\n    </div>);\n};","import axios from 'utils/axiosInstance';\n\ninterface OfferParams {\n  city: string;\n  people: number;\n  startDate: string;\n  endDate: string;\n}\n\nexport const fetchOffers = async (offerParams: OfferParams) => {\n  const res = await axios({\n    url: \"./offer\",\n    params: offerParams\n  });\n  return res;\n};","import React, { useContext, useEffect, useState } from 'react';\nimport { CalendarPopover } from \"./components/CalendarPopover\";\nimport { Calendar } from \"../../components/Calendar/Calendar\";\nimport TextField from '@mui/material/TextField';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport { useNavigate } from 'react-router-dom';\nimport { DrawerComponent } from \"../../components/Drawer/DrawerComponent\";\nimport { MoreFilters } from \"./components/MoreFilters\";\nimport { OfferTile } from \"./components/OfferTile\";\nimport { useQuery } from \"react-query\";\nimport { fetchCities } from \"../../actions/homePageActions\";\nimport { fetchOffers } from \"../../actions/searchPageActions\";\nimport { LoadingIndicator } from \"components\";\nimport { Ifilters, Offer } from \"models/Offer\";\nimport { SearchActions, SearchContext } from \"../../context/SearchProvider\";\nimport Button from \"@mui/material/Button\";\nimport moment from \"moment\";\nimport { UserContext } from \"../../context/AuthProvider\";\nimport { SignIn } from \"../auth/SignIn\";\nimport {PropertyType} from \"models/Offer\";\n\ninterface SearchProps {\n}\n\nconst initialState: Ifilters = {\n  price: [0, 10000],\n  smoking: false,\n  apartment: true,\n  hotel: true,\n  hostel: true,\n  home: true,\n}\n\nexport const Search: React.FC<SearchProps> = ({}) => {\n  const { state, dispatch } = useContext(SearchContext);\n  const { userState } = useContext(UserContext);\n  const [filters, setFilters] = useState<Ifilters>(initialState);\n  const [filteredOffers, setFilteredOffers] = useState<Offer[] | null>(null);\n  const [prices, setPrices] = useState<number[]>([0, 10000]);\n  const { isLoading: loadingCities, data: cities } = useQuery('cities', fetchCities);\n  let offerParams = {\n    city: \"\",\n    people: 1,\n    startDate: \"\",\n    endDate: \"\",\n  }\n\n  const { isFetching: loadingOffers, data: offers, refetch } = useQuery(['offers', offerParams],\n    () => fetchOffers(offerParams), {\n      enabled: false,\n      onSuccess: data => {\n        if(data.data.length >= 1) {\n          const prices = data.data.reduce((acc: any, offer: any) => {\n            return acc.concat(offer.dailyPrice);\n          }, []);\n          setFilters({\n            ...filters,\n            price: [Math.min(...prices), Math.max(...prices)]\n          })\n          setPrices([Math.min(...prices), Math.max(...prices)]);\n        }\n      }\n    });\n\n  useEffect(() => {\n    const fOffers = offers?.data.filter((offer: Offer) => {\n        if(offer.dailyPrice < filters.price[0] || offer.dailyPrice > filters.price[1])\n          return false;\n        if(filters.smoking && !offer.smoking)\n          return false\n        if(offer.type === \"HOME\" && !filters.home)\n          return false;\n        if(offer.type === \"APARTMENT\" && !filters.apartment)\n          return false;\n        if(offer.type === \"HOTEL\" && !filters.hotel)\n          return false;\n        if(offer.type === \"HOSTEL\" && !filters.hostel)\n          return false;\n        return true;\n    })\n    setFilteredOffers(fOffers);\n  }, [filters.apartment, filters.home, filters.hostel, filters.hotel, filters.price, filters.smoking, offers?.data]);\n\n\n\n  const [visible, setVisible] = useState(false);\n  const navigate = useNavigate();\n\n  const onChange = (startDate: Date, endDate: Date) => {\n    dispatch({ type: SearchActions.setStartDate, payload: startDate });\n    dispatch({ type: SearchActions.setEndDate, payload: endDate });\n  };\n\n  const onInputChange = (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>, actionType: SearchActions) => {\n    dispatch({ type: actionType, payload: event.target.value });\n  };\n\n  const onCityInputChange = (event: React.SyntheticEvent<Element, Event>, city: string | null) =>{\n    city && dispatch({ type: SearchActions.setCity, payload: city });\n  }\n\n  const searchButtonClick = () => {\n    offerParams = {\n      city: state.city,\n      people: state.people,\n      startDate: moment(state.startDate).format('YYYY-MM-DD'),\n      endDate: moment(state.endDate).format('YYYY-MM-DD'),\n    }\n    refetch();\n  }\n\n  if(userState.authenticated)\n  return (\n    <main className=\"search\">\n      {loadingCities ? <LoadingIndicator/> : <>\n        <div className=\"search__input\">\n          <ChevronLeftIcon className=\"search__icon\" onClick={() => navigate(-1)}/>\n          <Autocomplete\n            value={state.city}\n            onChange={(event, newInputValue) => onCityInputChange(event, newInputValue)}\n            className=\"search__autocomplete\"\n            disablePortal\n            id=\"combo-box-demo\"\n            options={cities?.data}\n            renderInput={\n              (params) =>\n                <TextField {...params} value={state.city} label=\"Wybierz miasto\"/>\n            }\n          />\n          <DrawerComponent drawerIcon={<FilterListIcon className=\"search__icon\"/>}\n                           drawerContent={<MoreFilters setVisible={setVisible} visible={visible} filters={filters} setFilters={setFilters} prices={prices}/>}\n                           setVisible={setVisible} visible={visible}/>\n        </div>\n        <div className=\"search__filters\">\n          <TextField type=\"number\" variant=\"outlined\" label=\"Ilość osób\" value={state.people}\n                     inputProps={{ min: \"1\", max: \"10\", step: \"1\" }} sx={{ width: 150 }}\n                     onChange={(event) => onInputChange(event, SearchActions.setPeople)}/>\n          <CalendarPopover buttonLabel=\"Wybierz datę\"\n                           popoverContent={<Calendar startDate={state.startDate} endDate={state.endDate}\n                                                     onChange={onChange}/>}/>\n        </div>\n        <Button className=\"search__button\" variant=\"contained\" onClick={searchButtonClick}>Wyszukaj</Button>\n      </>\n      }\n      <div className=\"divider\"/>\n      <section className=\"search__display-offers\">\n        {loadingOffers ? <LoadingIndicator/>\n          : filteredOffers?.map((offer: Offer) => (<OfferTile key={offer.id} offer={offer}/>))\n        }\n      </section>\n    </main>\n  );\n  return <SignIn />\n}","import React from 'react';\nimport { FormControlLabel, Switch } from \"@mui/material\";\nimport { useFormContext } from \"react-hook-form\";\n\ninterface FormSwitchProps {\n  name: string;\n  checked?: boolean;\n  label: string | JSX.Element;\n}\n\nexport const FormSwitch: React.FC<FormSwitchProps> = ({name, checked, label}) => {\n  const { register } = useFormContext();\n  return (\n    <FormControlLabel control={<Switch defaultChecked={checked} {...register(name)}/>} label={label}/>\n  );\n};","import React, { useState } from 'react';\nimport { CustomSelect, TextInput } from \"../index\";\nimport SmokingRoomsIcon from \"@mui/icons-material/SmokingRooms\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport Button from \"@mui/material/Button\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { IaddOffer, IaddOfferWithPhotos, Offer, PropertyType } from \"../../models/Offer\";\nimport { FormSwitch } from \"../FormSwitch/FormSwitch\";\n\ninterface OfferFormProps {\n  isLoading: boolean;\n  onSubmit: (data: IaddOfferWithPhotos | IaddOffer) => void;\n  offer?: Offer;\n  submitButtonName: string;\n}\n\nconst propertyTypes = [\n  {\n    value: \"HOME\",\n    label: \"Dom\"\n  },\n  {\n    value: \"HOSTEL\",\n    label: \"Hostel\"\n  },\n  {\n    value: \"HOTEL\",\n    label: \"Hotel\"\n  },\n  {\n    value: \"APARTMENT\",\n    label: \"Apartament\"\n  }\n];\n\n\nexport const OfferForm: React.FC<OfferFormProps> = ({isLoading, onSubmit, offer, submitButtonName}) => {\n  const [property, setProperty] = useState<PropertyType | string>(offer?.type);\n  const methods = useForm();\n\n  return (\n    <FormProvider {...methods}>\n      <form onSubmit={methods.handleSubmit(onSubmit)} className=\"add-offer__form\">\n        <TextInput label=\"Tytuł oferty\" name=\"title\" placeholder=\"Wprowadź nazwę oferty\" type=\"text\"\n                   variant=\"outlined\" value={offer?.title}/>\n        <TextInput label=\"Nazwa miasta\" name=\"city\" placeholder=\"Wprowadź nazwę miasta\" type=\"text\"\n                   variant=\"outlined\" value={offer?.city}/>\n        <TextInput label=\"Ilość miejsc\" name=\"maxPeople\" placeholder=\"Wprowadź ilość miejsc\" type=\"number\"\n                   variant=\"outlined\" numberProps={{ min: \"1\", max: \"10\", step: \"1\" }}   value={offer?.maxPeople}/>\n        <TextInput label=\"Cena za noc\" name=\"dailyPrice\" placeholder=\"Wprowadź cenę za noc\" type=\"number\"\n                   variant=\"outlined\" value={offer?.dailyPrice}/>\n        <CustomSelect name=\"type\" menuItems={propertyTypes} value={property} setValue={setProperty}\n                      label=\"Wybierz nieruchomość\"/>\n        <TextInput label=\"Opis\" name=\"description\" placeholder=\"Wprowadź opis\" type=\"number\" variant=\"outlined\"\n                   multiline={true}  value={offer?.description}/>\n        <span> <p>Można palić w środku?</p><FormSwitch name=\"smoking\" checked={offer?.smoking} label={<SmokingRoomsIcon />} /></span>\n        {\n          isLoading ? <LoadingButton loading variant=\"outlined\">\n            Submit\n          </LoadingButton> : <Button type=\"submit\">{submitButtonName}</Button>\n        }\n      </form>\n\n    </FormProvider>\n  );\n};","import { CustomSelect, TextInput } from 'components';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { UserActions, UserContext } from \"context/AuthProvider\";\nimport { useDropzone } from 'react-dropzone';\nimport { FormControlLabel, Switch } from '@mui/material';\nimport SmokingRoomsIcon from \"@mui/icons-material/SmokingRooms\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport { IaddOffer, IaddOfferWithPhotos } from \"../../models/Offer\";\nimport Button from \"@mui/material/Button\";\nimport DownloadIcon from '@mui/icons-material/Download';\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\nimport { useMutation } from \"react-query\";\nimport axios from \"../../utils/axiosInstance\";\nimport { Image } from 'models/Offer';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport { OfferForm } from \"../../components/OfferForm/OfferForm\";\nimport { useNavigate } from \"react-router-dom\";\nimport imageCompression from 'browser-image-compression';\n\ninterface AddOfferProps {\n\n}\n\nexport const AddOffer: React.FC<AddOfferProps> = () => {\n    const [property, setProperty] = useState('');\n    const [files, setFiles] = useState<Image[]>([]);\n    const navigate = useNavigate();\n    const { isLoading, mutate } = useMutation(async (offer: IaddOfferWithPhotos) => {\n      const fData = new FormData();\n      fData.append('title', offer.title);\n      fData.append('city', offer.city);\n      fData.append('maxPeople', offer.maxPeople.toString());\n      fData.append('dailyPrice', offer.dailyPrice.toString());\n      fData.append('type', offer.type!);\n      fData.append('description', offer.description);\n      fData.append('smoking', offer.smoking.toString());\n      offer.photos.forEach((photo) => {\n        fData.append(\"photos\", photo);\n      });\n      const response = await axios.post('./offer', fData);\n      return response;\n    }, {\n      onSuccess: (data) => {\n        console.log(data, 'przeszlo');\n        navigate('/settings');\n      }\n    });\n\n    const { dispatch } = useContext(UserContext);\n    const methods = useForm();\n    const onSubmit = (data: IaddOffer) => {\n      const options = {\n        maxSizeMB: 0.5,\n        maxWidthOrHeight: 1000,\n        useWebWorker: true\n      }\n      const compressedPhotos = files.map(async (file) => {\n        const img = await imageCompression(file, options);\n        return img;\n      })\n      console.log(files);\n      Promise.all(compressedPhotos)\n        .then((result) => {\n          const offerData: IaddOfferWithPhotos = {\n            ...data,\n            photos: result\n          };\n          console.log(result);\n          mutate(offerData);\n        })\n\n\n    };\n\n    const { getRootProps, getInputProps } = useDropzone({\n      accept: 'image/*',\n      onDrop: acceptedFiles => {\n        const addedFiles = acceptedFiles.map(file => Object.assign(file, {\n            preview: URL.createObjectURL(file)\n          }\n        ));\n        setFiles(\n          [...files, ...addedFiles]\n        );\n      }\n    });\n\n    const handleDelete = (fileName: string) => {\n      console.log(files.filter((file) => file.name === fileName));\n      setFiles(files.filter((file) => file.name !== fileName));\n    };\n\n\n    const thumbs = files?.map(file => (\n      <div className=\"add-offer__thumb-inner\" key={file.name}>\n        <DeleteForeverIcon className=\"add-offer__delete-photo\" onClick={() => handleDelete(file.name)}/>\n        <img\n          className=\"add-offer__thumb-img\"\n          src={URL.createObjectURL(file)}\n          alt=\"dropzone-photo\"\n        />\n\n      </div>\n    ));\n\n    useEffect(() => {\n      files && files.forEach((file: Image) => URL.revokeObjectURL(file.preview));\n    }, [files]);\n\n\n    return (<main className=\"add-offer\">\n      <h1>Dodaj ofertę</h1>\n      <div>\n        <section className=\"add-offer__container-dropzone\">\n          <div {...getRootProps({ className: 'add-offer__dropzone' })}>\n            <input {...getInputProps()} />\n            <DownloadIcon fontSize=\"large\"/>\n            <p>Wrzuć zdjęcia albo kilknij</p>\n          </div>\n          <aside className=\"add-offer__thumb-container\">\n            {thumbs}\n          </aside>\n        </section>\n        <OfferForm isLoading={isLoading} onSubmit={onSubmit} submitButtonName=\"Dodaj ofertę\"/>\n      </div>\n\n\n    </main>);\n  }\n;","import React, { useEffect } from 'react';\nimport { OfferForm } from \"../../components/OfferForm/OfferForm\";\nimport { useMutation, useQuery, UseQueryResult } from \"react-query\";\nimport { IaddOffer, Offer as OfferModel } from \"../../models/Offer\";\nimport axios from \"../../utils/axiosInstance\";\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { getOfferById } from \"../../actions/offerPageActions\";\nimport { LoadingIndicator } from 'components';\nimport OfferCarousel from \"../offer/components/OfferCarousel/OfferCarousel\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\n\ninterface EditOfferProps {\n\n}\n\nexport const EditOffer: React.FC<EditOfferProps> = ({}) => {\n  const navigate = useNavigate();\n  const { state } = useLocation();\n  const {\n    data: offer,\n    isFetching: isOfferFetching\n  }: UseQueryResult<OfferModel> = useQuery(['offer', state.id], () => getOfferById(state.id!));\n  const { isLoading, mutate } = useMutation(async (offer: IaddOffer) => {\n    console.log(offer.smoking)\n    const fData = new FormData();\n    fData.append('title', offer.title);\n    fData.append('city', offer.city);\n    fData.append('maxPeople', offer.maxPeople.toString());\n    fData.append('dailyPrice', offer.dailyPrice.toString());\n    fData.append('type', offer.type!);\n    fData.append('description', offer.description);\n    fData.append('smoking', offer.smoking.toString());\n\n    const response = await axios.put(`./offer/${state.id}`, fData);\n    return response;\n  }, {\n    onSuccess: (data) => {\n      console.log(data, 'przeszlo');\n      navigate(\"/settings\")\n    }\n  });\n\n  const onSubmit = (data: IaddOffer) => {\n    console.log(data)\n    mutate(data);\n  }\n  return (\n    <section className=\"edit-offer\">\n      <div className=\"offer__nav\"><ChevronLeftIcon className=\"search__icon\" onClick={() => navigate(-1)}/><></></div>\n      <OfferCarousel images={offer?.images.map(image => image.url)}/>\n    {isOfferFetching ? <LoadingIndicator /> : <OfferForm isLoading={isLoading} onSubmit={onSubmit} offer={offer} submitButtonName=\"Edytuj ofertę\"/>}\n  </section>\n  );\n};","import React from 'react';\nimport { OfferTile } from \"../../search/components/OfferTile\";\nimport { Offer } from \"models/Offer\";\nimport Button from '@mui/material/Button';\nimport { useMutation } from \"react-query\";\nimport axios from \"../../../utils/axiosInstance\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\n\ninterface UserOfferTileProps {\n  offer: Offer;\n  onDelete: () => {}\n}\n\nexport const UserOfferTile: React.FC<UserOfferTileProps> = ({offer, onDelete}) => {\n  const { mutate } = useMutation(async () => {\n    return await axios.delete(`/offer/${offer.id}`);\n  }, {\n    onSuccess: () => {\n      onDelete();\n    }\n  } );\n  return (\n    <>\n      <OfferTile offer={offer}/>\n      <div className=\"user-offer-tile\">\n        <Link to=\"/editOffer\" state={{id: offer.id}}>Edytuj</Link>\n        <p className=\"user-offer-tile--delete\" onClick={() => mutate()}>Usuń</p>\n      </div>\n    </>\n  );\n};\n","import React, { useContext } from 'react';\nimport { UserActions, UserContext } from \"../../context/AuthProvider\";\nimport Button from \"@mui/material/Button\";\nimport { Divider } from \"@mui/material\";\nimport { useQuery } from \"react-query\";\nimport axios from \"utils/axiosInstance\";\nimport { LoadingIndicator } from \"../../components\";\nimport { Offer } from 'models/Offer';\nimport { OfferTile } from \"../search/components/OfferTile\";\nimport { UserOfferTile } from \"./components/UserOfferTile\";\n\ninterface SettingsProps {\n\n}\n\nexport const Settings: React.FC<SettingsProps> = ({}) => {\n  const { dispatch } = useContext(UserContext);\n  const { data: userOffer, isLoading, refetch } = useQuery<Offer[]>('userOffers', async () => {\n    const res = await axios.get(\"./user/offer\");\n    return res.data;\n  })\n  // @ts-ignore\n  return (<div className=\"settings\">\n    <Button onClick={() => dispatch({ type: UserActions.logout, payload: '' })}>Wyloguj się</Button>\n    <Divider className=\"settings__divider\"/>\n    <h1>Twoje oferty</h1>\n    {isLoading ? <LoadingIndicator /> : userOffer?.map((offer: Offer) => (\n      <UserOfferTile offer={offer} onDelete={refetch} key={offer.id}/>\n    ))}\n\n  </div>);\n};","import \"App.scss\";\n//import { RootState } from \"store\";\nimport { BottomNavbar, Navbar } from \"components\";\nimport { SignIn } from \"pages/auth/SignIn\";\nimport { SignUp } from \"pages/auth/SignUp\";\nimport Offer from \"pages/offer/Offer\";\nimport React from \"react\";\nimport { BrowserRouter as Router, HashRouter, Route, Routes } from \"react-router-dom\";\nimport { Home } from \"../pages/home/Home\";\nimport { MyReservations } from \"../pages/myReservations/MyReservations\";\nimport { ProtectedRoute } from \"./ProtectedRoute\";\nimport { PublicRoute } from \"./PublicRoute\";\nimport { Search } from \"../pages/search/Search\";\nimport { AddOffer } from \"pages/addOffer/AddOffer\";\nimport { SearchProvider } from \"../context/SearchProvider\";\nimport { EditOffer } from \"../pages/editOffer/EditOffer\";\nimport { Settings } from \"pages/settingsPage/Settings\";\n\n\ninterface RoutesProps {\n}\n\nexport const RoutesConfig: React.FC<RoutesProps> = () => {\n\n\n  return (\n    <SearchProvider>\n      <HashRouter>\n        <Navbar/>\n        <Routes>\n          <Route\n            path=\"/signup\"\n            element={\n              <PublicRoute>\n                <SignUp/>\n              </PublicRoute>\n\n            }\n          />\n          <Route\n            path=\"/signin\"\n            element={\n              <PublicRoute>\n                <SignIn/>\n              </PublicRoute>\n            }\n          />\n          <Route\n            path=\"/myReservations\"\n            element={\n              <ProtectedRoute>\n                <MyReservations/>\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/addOffer\"\n            element={\n              <ProtectedRoute>\n                <AddOffer/>\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/editOffer\"\n            element={\n              <ProtectedRoute>\n                <EditOffer/>\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/settings\"\n            element={\n              <ProtectedRoute>\n                <Settings/>\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/search\"\n            element={\n              <Search/>\n            }\n          />\n          <Route\n            path=\"/offer/:id\"\n            element={\n              <ProtectedRoute>\n                <Offer/>\n              </ProtectedRoute>\n            }\n          />\n\n          <Route\n            path=\"/\"\n            element={\n              <Home/>\n            }\n          />\n          <Route\n            path=\"/home\"\n            element={\n              <Home/>\n            }\n          />\n\n        </Routes>\n\n        <BottomNavbar/>\n      </HashRouter>\n    </SearchProvider>\n  );\n};\n","import React from \"react\";\nimport \"./App.scss\";\nimport \"./styles/global.scss\";\nimport { RoutesConfig } from \"./routes/RoutesConfig\";\nimport StyledEngineProvider from \"@mui/material/StyledEngineProvider\";\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { ReactQueryDevtools } from 'react-query/devtools';\nimport { AuthProvider } from \"./context/AuthProvider\";\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false\n    },\n  },\n});\n\n\nfunction App() {\n\n  return (\n    <QueryClientProvider client={queryClient}>\n        <AuthProvider>\n          <StyledEngineProvider injectFirst>\n            <RoutesConfig/>\n            <ReactQueryDevtools initialIsOpen={false}/>\n          </StyledEngineProvider>\n        </AuthProvider>\n    </QueryClientProvider>\n  );\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}